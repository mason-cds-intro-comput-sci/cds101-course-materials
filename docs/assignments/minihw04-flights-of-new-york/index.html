<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CDS 101: Introduction to Computational and Data Sciences</title>
    <link rel="stylesheet" href="/theme/css/cds101.min.css">
    <link rel="stylesheet" href="/theme/css/custom.css">
      <link rel="stylesheet" href="/theme/css/vendor/katex/katex.min.css">
      <link rel="stylesheet" href="/theme/css/vendor/highlightjs/default.css">
      <link rel="stylesheet" href="/theme/css/vendor/fontawesome/fa-svg-with-js.css">
</head>  <body>
    <div class="header-grid-container">
<div class="banner-container">
  <header>
    <div class="banner">
      <div class="course-logo">
        <a href="/"><img src="/theme/img/course-logo.svg"></a>
      </div>
      <div class="university-logo">
        <a href="https://gmu.edu"><img src="/theme/img/university-logo.svg"></a>
      </div>
    </div>
  </header>
</div>    </div>
<div class="navbar-container">
  <nav class="navbar">
    <div class="navbar-mobile" data-responsive-toggle="main-menu" data-hide-for="large">
      <button type="button" data-toggle="main-menu"><i class="fas fa-bars"></i><span class="navbar-mobile-title">Menu</span></button>
    </div>

    <div class="navbar-menu" id="main-menu">
      <ul class="navbar-menu-list">
        <li>
          <a class="navbar-home-item" href="/"><i class="fas fa-home" data-fa-transform="grow-8"></i></a>
        </li>
            <li>
              <a class="navbar-menu-item" href="/https://labs.cds101.com">CDS 102 Labs</a>
            </li>
      </ul>
    </div>
  </nav>
</div>    <div class="content-grid-container">
    <article class="static-page">
<header class="static-page-header">
  <h1 class="static-page-title">Mini-homework 4 â€“ Flights of New&nbsp;York</h1>
</header><div class="static-page-body">
  <h2>Instructions</h2>
<p>Obtain the GitHub repository you will use to complete the mini-homework, which contains a starter file named [flights_of_new_york.Rmd]{.monospace}.
This mini-homework will help you become more familiar with manipulating datasets using R by guiding you through some examples.
Read the <a href="#about-the-dataset">About the dataset</a> section to get some background information on the dataset that you&#8217;ll be working with.
Each of the below <a href="#exercises">exercises</a> are to be completed in the provided spaces within your starter file [flights_of_new_york.Rmd]{.monospace}.
Then, when you&#8217;re ready to submit, follow the directions in the <strong><a href="#how-to-submit">How to submit</a></strong> section&nbsp;below.</p>
<h2>About the&nbsp;dataset</h2>
<p>The dataset we are working with in this mini-homework is the [flights]{.monospace} dataset that is loaded via the [nycflights13]{.monospace} R package.
This dataset contains on-time data for all flights that departed from a New York City airport (airport codes: <span class="caps">JFK</span>, <span class="caps">LGA</span>, <span class="caps">EWR</span>) in&nbsp;2013.</p>
<h2>Exercises</h2>
<p>Start working on these exercises <strong>after</strong> you have successfully cloned your repository into RStudio&nbsp;Server.</p>
<p>@view-table.
    As always, you should inspect a new dataset to become more familiar with what it contains.
    To do this in RStudio, type the following command <strong>in your <em>Console</em> window</strong> (not in the R Markdown&nbsp;file):</p>
<div class="highlight"><pre><span></span><span class="err">```</span><span class="n">r</span><span class="w"></span>
<span class="k">View</span><span class="p">(</span><span class="n">flights</span><span class="p">)</span><span class="w"></span>
<span class="err">```</span><span class="w"></span>

<span class="n">Since</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">[</span><span class="n">flights</span><span class="o">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span><span class="w"> </span><span class="n">dataset</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">loaded</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">R</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">`</span><span class="n">library</span><span class="p">(</span><span class="n">nycflights13</span><span class="p">)</span><span class="err">`</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="n">setup</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">block</span><span class="p">,</span><span class="w"> </span><span class="n">additional</span><span class="w"> </span><span class="n">documentation</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">available</span><span class="p">.</span><span class="w"></span>
<span class="k">To</span><span class="w"> </span><span class="k">read</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">dataset</span><span class="p">,</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="o">**</span><span class="ow">in</span><span class="w"> </span><span class="n">your</span><span class="w"> </span><span class="o">*</span><span class="n">Console</span><span class="o">*</span><span class="w"> </span><span class="k">window</span><span class="o">**</span><span class="err">:</span><span class="w"></span>

<span class="err">```</span><span class="n">r</span><span class="w"></span>
<span class="vm">?</span><span class="n">flights</span><span class="w"></span>
<span class="err">```</span><span class="w"></span>

<span class="k">Use</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">resources</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">answer</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">initial</span><span class="w"> </span><span class="n">questions</span><span class="p">.</span><span class="w"></span>

<span class="mf">1.</span><span class="w">  </span><span class="n">How</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="k">rows</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">dataset</span><span class="w"> </span><span class="n">have</span><span class="vm">?</span><span class="w"></span>

<span class="mf">2.</span><span class="w">  </span><span class="n">What</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">single</span><span class="w"> </span><span class="k">row</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">dataset</span><span class="w"> </span><span class="n">represent</span><span class="vm">?</span><span class="w"></span>

<span class="mf">3.</span><span class="w">  </span><span class="n">What</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="nf">difference</span><span class="w"> </span><span class="ow">between</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">contained</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">[</span><span class="n">dep\_time</span><span class="o">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">[</span><span class="n">sched\_dep\_time</span><span class="o">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span><span class="w"> </span><span class="n">columns</span><span class="vm">?</span><span class="w"></span>

<span class="mf">4.</span><span class="w">  </span><span class="n">Which</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">contain</span><span class="w"> </span><span class="n">information</span><span class="w"> </span><span class="n">about</span><span class="w"> </span><span class="n">dates</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">times</span><span class="vm">?</span><span class="w"></span>

<span class="mf">5.</span><span class="w">  </span><span class="n">Airplanes</span><span class="w"> </span><span class="k">are</span><span class="w"> </span><span class="n">reused</span><span class="w"> </span><span class="n">across</span><span class="w"> </span><span class="n">many</span><span class="w"> </span><span class="n">different</span><span class="w"> </span><span class="n">flights</span><span class="p">.</span><span class="w"></span>
<span class="w">    </span><span class="n">Which</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">would</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">helpful</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">identifying</span><span class="w"> </span><span class="n">individual</span><span class="w"> </span><span class="n">airplanes</span><span class="vm">?</span><span class="w"></span>
</pre></div>


<p>@select-column.
    Let&#8217;s start with the <code>select()</code> function.
    The <code>select()</code> function <em>selects</em> columns from a dataset, which is useful when you&#8217;re working with a dataset that contains dozens of variables.
    Try running the following&nbsp;code:</p>
<div class="highlight"><pre><span></span><span class="o">```</span><span class="n">r</span>
<span class="n">flights</span> <span class="o">%&gt;%</span>
  <span class="k">select</span><span class="p">(</span><span class="k">year</span><span class="p">,</span> <span class="k">month</span><span class="p">)</span>
<span class="o">```</span>

<span class="n">Based</span> <span class="k">on</span> <span class="n">the</span> <span class="k">output</span><span class="p">,</span> <span class="k">explain</span> <span class="n">what</span> <span class="n">happens</span> <span class="k">when</span> <span class="n">you</span> <span class="n">run</span> <span class="n">this</span> <span class="n">command</span><span class="p">.</span>

<span class="p">:::</span> <span class="err">{</span><span class="p">.</span><span class="n">callout</span> <span class="p">.</span><span class="k">primary</span><span class="err">}</span>
<span class="p">[</span><span class="n">What</span> <span class="n">does</span> <span class="p">[</span><span class="o">%&gt;%</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span> <span class="n">mean</span><span class="o">?</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">h4</span><span class="err">}</span>

<span class="n">The</span> <span class="n">strange</span> <span class="n">looking</span> <span class="n">symbol</span> <span class="p">[</span><span class="o">%&gt;%</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span> <span class="k">is</span> <span class="k">called</span> <span class="n">the</span> <span class="o">**</span><span class="n">pipe</span><span class="o">**</span><span class="p">,</span> <span class="k">and</span> <span class="n">it</span> <span class="k">is</span> <span class="n">a</span> <span class="n">handy</span> <span class="n">way</span> <span class="k">to</span> <span class="n">pass</span> <span class="n">a</span> <span class="n">dataset</span> <span class="n">through</span> <span class="n">a</span> <span class="k">chain</span> <span class="k">of</span> <span class="n">commands</span><span class="p">.</span>
<span class="k">All</span> <span class="n">examples</span> <span class="n">going</span> <span class="k">forward</span> <span class="n">will</span> <span class="n">use</span> <span class="n">the</span> <span class="n">pipe</span> <span class="k">whenever</span> <span class="n">possible</span><span class="p">.</span>
<span class="p">:::</span>
</pre></div>


<p>@more-selecting.
    There are multiple ways to specify columns with the <code>select()</code> command.
    To demonstrate this, copy the code you wrote in <strong>Exercise @select-column</strong> and replace <code>select(year, month)</code> with <code>select(year:day)</code>.
    What does the colon [:]{.monospace}&nbsp;do?</p>
<p>@sorting-data.
    The sort operation is a common and indispensible operation for organizing data, and the function from [dplyr]{.monospace} that allows us to sort is called <code>arrange()</code>.
    <code>arrange()</code> sorts columns with textual data ([chr]{.monospace} data type) into alphabetical order and sorts numerical data into numerical&nbsp;order.</p>
<div class="highlight"><pre><span></span><span class="k">Try</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">following</span><span class="w"> </span><span class="nl">code</span><span class="p">:</span><span class="w"></span>

<span class="err">```</span><span class="n">r</span><span class="w"></span>
<span class="n">flights</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"></span>
<span class="w">  </span><span class="n">arrange</span><span class="p">(</span><span class="nf">month</span><span class="p">,</span><span class="w"> </span><span class="nf">day</span><span class="p">)</span><span class="w"></span>
<span class="err">```</span><span class="w"></span>

<span class="n">Based</span><span class="w"> </span><span class="k">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">output</span><span class="p">,</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">look</span><span class="w"> </span><span class="ow">like</span><span class="w"> </span><span class="k">both</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">[</span><span class="n">month</span><span class="o">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="o">[</span><span class="n">day</span><span class="o">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="n">were</span><span class="w"> </span><span class="n">sorted</span><span class="vm">?</span><span class="w"></span>
<span class="n">Which</span><span class="w"> </span><span class="k">column</span><span class="w"> </span><span class="n">was</span><span class="w"> </span><span class="n">sorted</span><span class="w"> </span><span class="k">first</span><span class="vm">?</span><span class="w"></span>
<span class="n">What</span><span class="w"> </span><span class="n">happens</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="nf">reverse</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="k">order</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">specify</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">columns</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="err">`</span><span class="n">arrange</span><span class="p">()</span><span class="err">`</span><span class="vm">?</span><span class="w"></span>

<span class="o">::</span><span class="err">:</span><span class="w"> </span><span class="err">{</span><span class="p">.</span><span class="n">callout</span><span class="w"> </span><span class="p">.</span><span class="n">secondary</span><span class="err">}</span><span class="w"></span>
<span class="o">[</span><span class="n">Important!</span><span class="o">]</span><span class="err">{</span><span class="p">.</span><span class="n">h4</span><span class="err">}</span><span class="w"></span>

<span class="n">Students</span><span class="w"> </span><span class="n">often</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">there</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">_base</span><span class="w"> </span><span class="n">R_</span><span class="w"> </span><span class="k">function</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="err">`</span><span class="n">sort</span><span class="p">()</span><span class="err">`</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">well</span><span class="p">,</span><span class="w"> </span><span class="k">leading</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="n">confusion</span><span class="w"> </span><span class="n">later</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">course</span><span class="p">.</span><span class="w"></span>
<span class="k">Using</span><span class="w"> </span><span class="err">`</span><span class="n">sort</span><span class="p">()</span><span class="err">`</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">same</span><span class="w"> </span><span class="n">way</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="err">`</span><span class="n">arrange</span><span class="p">()</span><span class="err">`</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">give</span><span class="w"> </span><span class="n">you</span><span class="w"> </span><span class="n">errors</span><span class="p">.</span><span class="w"></span>
<span class="k">For</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">course</span><span class="w"> </span><span class="o">**</span><span class="n">we</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="n">prefer</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="o">[</span><span class="n">tidyverse</span><span class="o">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="k">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">function</span><span class="o">**</span><span class="p">,</span><span class="w"> </span><span class="n">so</span><span class="w"> </span><span class="n">always</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="err">`</span><span class="n">arrange</span><span class="p">()</span><span class="err">`</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">pretend</span><span class="w"> </span><span class="err">`</span><span class="n">sort</span><span class="p">()</span><span class="err">`</span><span class="w"> </span><span class="n">doesn</span><span class="err">â€™</span><span class="n">t</span><span class="w"> </span><span class="n">exist</span><span class="p">.</span><span class="w"></span>
<span class="o">::</span><span class="err">:</span><span class="w"></span>
</pre></div>


<p>@descending-sort.
    By default, <code>arrange()</code> will sort data in ascending order.
    The function <code>desc()</code> can be used to sort in descending order.
    For example, to sort by months in reverse order, we would use <code>arrange(desc(month))</code>
    Let&#8217;s use it to answer a simple question about the dataset: what flight experienced the longest departure delay?
    Identify the column that gives information about flight departure delays, and then use <code>arrange()</code> in combination with <code>desc()</code> to sort the [flights]{.monospace} dataset to find the flight with the longest departure&nbsp;delay.</p>
<p>@mutate-dataset.
    Let&#8217;s now try an example that uses the <code>mutate()</code> function, which is a little more complex.
    <code>mutate()</code> lets us <strong>transform</strong> a dataset by applying the same operation to each row in the dataset and appending the results as a <em>new</em> column.
    More simply, this is how you can add, subtract, multiply, and divide different two or more columns against each other.
    As an example, run the following command to calculate the average speed for each flight in miles per&nbsp;hour:</p>
<div class="highlight"><pre><span></span><span class="o">```</span><span class="n">r</span>
<span class="n">flights</span> <span class="o">%&gt;%</span>
  <span class="n">mutate</span><span class="p">(</span>
    <span class="n">average_speed</span> <span class="o">=</span> <span class="n">distance</span> <span class="o">/</span> <span class="p">(</span><span class="n">air_time</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>
  <span class="p">)</span>
<span class="o">```</span>

<span class="k">Where</span> <span class="n">does</span> <span class="n">the</span> <span class="k">new</span> <span class="k">column</span> <span class="n">you</span> <span class="n">just</span> <span class="n">computed</span> <span class="k">show</span> <span class="n">up</span> <span class="k">in</span> <span class="n">the</span> <span class="n">dataset</span> <span class="k">and</span> <span class="n">what</span> <span class="k">is</span> <span class="n">the</span> <span class="n">name</span> <span class="k">of</span> <span class="n">this</span> <span class="k">new</span> <span class="k">column</span><span class="o">?</span>
<span class="n">What</span> <span class="n">part</span> <span class="k">of</span> <span class="n">the</span> <span class="n">code</span> <span class="k">is</span> <span class="n">controlling</span> <span class="n">the</span> <span class="n">name</span> <span class="k">of</span> <span class="n">the</span> <span class="k">new</span> <span class="k">column</span><span class="o">?</span>
</pre></div>


<p>@mutate-times.
    We are not limited to only one input at a time in <code>mutate()</code>.
    As long as we separate each input by a comma, we can put as many inputs as we want in the <code>mutate()</code> function!
    As an example, let&#8217;s take the <code>dep_time</code> column, which gives the clock time as an integer (for example, 11:00am is 1100) and separate it into an hours column and minutes&nbsp;column:</p>
<div class="highlight"><pre><span></span><span class="ss">```r</span>
<span class="ss">flights %&gt;%</span>
<span class="ss">  mutate(</span>
<span class="ss">    dep_time_hour = dep_time %/% 100,</span>
<span class="ss">    dep_time_minute = dep_time %% 100</span>
<span class="ss">  )</span>
<span class="ss">```</span>

<span class="n">Next</span><span class="p">,</span> <span class="n">copy</span> <span class="k">and</span> <span class="n">paste</span> <span class="n">this</span> <span class="n">code</span> <span class="k">into</span> <span class="n">a</span> <span class="n">new</span> <span class="n">code</span> <span class="n">block</span><span class="p">,</span> <span class="k">add</span> <span class="n">a</span> <span class="n">second</span> <span class="n">comma</span><span class="p">,</span> <span class="k">and</span> <span class="k">then</span> <span class="k">add</span> <span class="n">a</span> <span class="n">third</span> <span class="n">line</span><span class="p">.</span>
<span class="o">**</span><span class="n">Have</span> <span class="n">this</span> <span class="n">third</span> <span class="n">line</span> <span class="k">use</span> <span class="n">the</span> <span class="ss">`dep_time_hour`</span> <span class="k">and</span> <span class="ss">`dep_time_minute`</span> <span class="n">columns</span> <span class="k">to</span> <span class="n">compute</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">minutes</span> <span class="n">since</span> <span class="n">midnight</span><span class="p">.</span><span class="o">**</span>
<span class="n">Name</span> <span class="n">this</span> <span class="n">third</span> <span class="k">column</span> <span class="ss">`dep_time_minutes_midnight`</span><span class="p">.</span>

<span class="p">:::</span> <span class="err">{</span><span class="p">.</span><span class="n">callout</span> <span class="p">.</span><span class="k">primary</span><span class="err">}</span>
<span class="p">[</span><span class="n">What</span> <span class="n">do</span> <span class="p">[</span><span class="o">%/%</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span> <span class="k">and</span> <span class="p">[</span><span class="o">%%</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span> <span class="n">mean</span><span class="o">?</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">h4</span><span class="err">}</span>

<span class="n">The</span> <span class="n">operators</span> <span class="p">[</span><span class="o">%/%</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span> <span class="k">and</span> <span class="p">[</span><span class="o">%%</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span> <span class="n">let</span> <span class="n">you</span> <span class="n">do</span> <span class="o">**</span><span class="n">modular</span> <span class="n">arithmetic</span><span class="p">.</span><span class="o">**</span>
<span class="n">The</span> <span class="n">symbol</span> <span class="p">[</span><span class="o">%/%</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span> <span class="n">means</span> <span class="o">*</span><span class="kt">integer</span> <span class="n">division</span><span class="o">*</span> <span class="k">and</span> <span class="p">[</span><span class="o">%%</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span> <span class="n">means</span> <span class="o">*</span><span class="n">remainder</span><span class="o">*</span><span class="p">.</span>
<span class="k">As</span> <span class="n">a</span> <span class="n">quick</span> <span class="n">example</span><span class="p">,</span> <span class="n">you</span> <span class="n">might</span> <span class="n">remember</span> <span class="n">learning</span> <span class="n">about</span> <span class="n">proper</span> <span class="k">and</span> <span class="n">improper</span> <span class="n">fractions</span> <span class="k">in</span> <span class="n">math</span> <span class="n">class</span><span class="p">.</span>
<span class="err">$\</span><span class="n">dfrac</span><span class="err">{</span><span class="mi">9</span><span class="err">}{</span><span class="mi">4</span><span class="err">}$</span> <span class="k">is</span> <span class="n">an</span> <span class="n">example</span> <span class="n">of</span> <span class="n">an</span> <span class="n">improper</span> <span class="n">fraction</span><span class="p">.</span>
<span class="k">To</span> <span class="k">convert</span> <span class="n">it</span> <span class="k">into</span> <span class="n">a</span> <span class="n">proper</span> <span class="n">fraction</span><span class="p">,</span> <span class="n">first</span> <span class="n">we</span> <span class="n">need</span> <span class="k">to</span> <span class="n">figure</span> <span class="k">out</span> <span class="n">how</span> <span class="n">many</span> <span class="n">times</span> <span class="mi">4</span> <span class="n">goes</span> <span class="k">into</span> <span class="mi">9</span><span class="p">.</span>
<span class="n">We</span> <span class="n">can</span> <span class="n">easily</span> <span class="n">compute</span> <span class="n">this</span> <span class="k">with</span> <span class="kt">integer</span> <span class="n">division</span><span class="p">:</span>


<span class="ss">```r</span>
<span class="ss">9 %/% 4</span>
<span class="ss">```</span>

<span class="ss">```</span>
<span class="ss"># [1] 2</span>
<span class="ss">```</span>

<span class="n">We</span> <span class="n">also</span> <span class="n">need</span> <span class="k">to</span> <span class="n">know</span> <span class="n">the</span> <span class="n">remainder</span><span class="p">,</span> <span class="k">or</span> <span class="n">how</span> <span class="n">much</span> <span class="k">is</span> <span class="k">left</span> <span class="n">over</span> <span class="n">after</span> <span class="n">dividing</span> <span class="mi">4</span> <span class="k">into</span> <span class="mi">9</span><span class="p">.</span>


<span class="ss">```r</span>
<span class="ss">9 %% 4</span>
<span class="ss">```</span>

<span class="ss">```</span>
<span class="ss"># [1] 1</span>
<span class="ss">```</span>

<span class="n">So</span> <span class="n">the</span> <span class="n">proper</span> <span class="n">fraction</span> <span class="n">representation</span> <span class="n">of</span> <span class="err">$\</span><span class="n">dfrac</span><span class="err">{</span><span class="mi">9</span><span class="err">}{</span><span class="mi">4</span><span class="err">}$</span> <span class="k">is</span> <span class="err">$</span><span class="mi">2</span> <span class="err">\</span><span class="n">frac</span><span class="err">{</span><span class="mi">1</span><span class="err">}{</span><span class="mi">4</span><span class="err">}$</span><span class="p">.</span>
<span class="p">:::</span>
</pre></div>


<p>@filtering-data.
    Next we consider the <code>filter()</code> function, which provides a ruled-based way to keep a subset of rows and remove the rest.
    Here we just consider rules that are simple comparisons, which involve the&nbsp;symbols:</p>
<div class="highlight"><pre><span></span><span class="o">*</span>   <span class="p">[</span><span class="o">&gt;</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span><span class="p">:</span> <span class="n">greater</span> <span class="k">than</span>
<span class="o">*</span>   <span class="p">[</span><span class="o">&gt;=</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span><span class="p">:</span> <span class="n">greater</span> <span class="k">than</span> <span class="k">or</span> <span class="n">equal</span> <span class="k">to</span>
<span class="o">*</span>   <span class="p">[</span><span class="o">&lt;</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span><span class="p">:</span> <span class="k">less</span> <span class="k">than</span>
<span class="o">*</span>   <span class="p">[</span><span class="o">&lt;=</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span><span class="p">:</span> <span class="k">less</span> <span class="k">than</span> <span class="k">or</span> <span class="n">equal</span> <span class="k">to</span>
<span class="o">*</span>   <span class="p">[</span><span class="o">!=</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span><span class="p">:</span> <span class="k">not</span> <span class="n">equal</span>
<span class="o">*</span>   <span class="p">[</span><span class="o">==</span><span class="p">]</span><span class="err">{</span><span class="p">.</span><span class="n">monospace</span><span class="err">}</span><span class="p">:</span> <span class="n">equal</span>

<span class="n">Give</span> <span class="o">`</span><span class="n">filter</span><span class="p">()</span><span class="o">`</span> <span class="n">a</span> <span class="n">try</span> <span class="k">by</span> <span class="n">running</span> <span class="n">the</span> <span class="n">following</span> <span class="n">two</span> <span class="n">code</span> <span class="n">blocks</span><span class="p">:</span>

<span class="o">```</span><span class="n">r</span>
<span class="n">flights</span> <span class="o">%&gt;%</span>
  <span class="n">filter</span><span class="p">(</span>
    <span class="n">arr_delay</span> <span class="o">&lt;</span> <span class="mi">0</span>
  <span class="p">)</span>
<span class="o">```</span>

<span class="o">```</span><span class="n">r</span>
<span class="n">flights</span> <span class="o">%&gt;%</span>
  <span class="n">filter</span><span class="p">(</span>
    <span class="n">carrier</span> <span class="o">==</span> <span class="ss">&quot;UA&quot;</span>
  <span class="p">)</span>
<span class="o">```</span>

<span class="k">After</span> <span class="n">running</span> <span class="n">the</span> <span class="n">above</span> <span class="n">code</span><span class="p">,</span> <span class="n">figure</span> <span class="k">out</span> <span class="n">how</span> <span class="k">to</span> <span class="n">combine</span> <span class="n">the</span> <span class="n">two</span> <span class="n">examples</span> <span class="k">in</span> <span class="n">one</span> <span class="o">`</span><span class="n">filter</span><span class="p">()</span><span class="o">`</span> <span class="k">function</span> <span class="p">(</span><span class="o">**</span><span class="n">hint</span><span class="p">:</span><span class="o">**</span> <span class="n">it</span> <span class="n">resembles</span> <span class="n">what</span> <span class="n">you</span> <span class="n">did</span> <span class="k">with</span> <span class="o">`</span><span class="n">mutate</span><span class="p">()</span><span class="o">`</span><span class="p">).</span>
<span class="n">This</span> <span class="n">will</span> <span class="n">tell</span> <span class="n">you</span> <span class="k">all</span> <span class="n">the</span> <span class="n">flights</span> <span class="n">operated</span> <span class="k">by</span> <span class="n">United</span> <span class="n">Airlines</span> <span class="p">(</span><span class="n">UA</span><span class="p">)</span> <span class="n">that</span> <span class="n">arrived</span> <span class="n">early</span><span class="p">.</span>
</pre></div>


<p>@data-aggregation.
    It is common to want to summarize the information contained within a dataset, such as computing sums and averages, or counting how many data points belong to different groups.
    This is called data aggregation, as it <strong>aggregates</strong> many data points together and uses them to compute a cetain quantity.
    We perform data aggregation in R by using the commands <code>group_by()</code> and <code>summarize()</code>, which frequently show up as a&nbsp;pair.</p>
<div class="highlight"><pre><span></span><span class="n">The</span> <span class="o">`</span><span class="n">group_by</span><span class="p">()</span><span class="o">`</span> <span class="n">command</span> <span class="k">is</span> <span class="n">applied</span> <span class="k">to</span> <span class="n">one</span> <span class="k">or</span> <span class="k">more</span> <span class="n">columns</span><span class="p">,</span> <span class="k">and</span> <span class="n">allows</span> <span class="n">you</span> <span class="k">create</span> <span class="n">groups</span> <span class="n">that</span> <span class="k">share</span> <span class="n">common</span> <span class="k">values</span> <span class="k">in</span> <span class="n">a</span> <span class="k">column</span> <span class="k">of</span> <span class="n">categorical</span> <span class="k">data</span><span class="p">.</span>
<span class="n">The</span> <span class="o">`</span><span class="n">summarize</span><span class="p">()</span><span class="o">`</span> <span class="n">command</span> <span class="n">can</span> <span class="k">then</span> <span class="n">be</span> <span class="n">used</span> <span class="k">to</span> <span class="n">compute</span> <span class="n">quantities</span> <span class="k">like</span> <span class="n">averages</span> <span class="o">**</span><span class="n">within</span><span class="o">**</span> <span class="n">those</span> <span class="n">groups</span><span class="p">.</span>
<span class="n">It</span> <span class="n">will</span> <span class="n">help</span> <span class="k">to</span> <span class="n">see</span> <span class="n">an</span> <span class="n">example</span><span class="p">.</span>
<span class="n">Run</span> <span class="n">the</span> <span class="n">following</span> <span class="n">code</span><span class="p">,</span> <span class="n">which</span> <span class="n">calculates</span> <span class="n">the</span> <span class="n">mean</span> <span class="p">(</span><span class="n">average</span><span class="p">)</span> <span class="n">arrival</span> <span class="n">delay</span> <span class="k">for</span> <span class="k">each</span> <span class="n">airline</span> <span class="n">carrier</span><span class="p">:</span>

<span class="o">```</span><span class="n">r</span>
<span class="n">flights</span> <span class="o">%&gt;%</span>
  <span class="n">group_by</span><span class="p">(</span><span class="n">carrier</span><span class="p">)</span> <span class="o">%&gt;%</span>
  <span class="n">summarize</span><span class="p">(</span>
    <span class="n">average_arr_delay</span> <span class="o">=</span> <span class="n">mean</span><span class="p">(</span><span class="n">arr_delay</span><span class="p">,</span> <span class="n">na</span><span class="p">.</span><span class="n">rm</span> <span class="o">=</span> <span class="k">TRUE</span><span class="p">)</span>
  <span class="p">)</span>
<span class="o">```</span>

<span class="n">Which</span> <span class="n">airline</span> <span class="n">carrier</span> <span class="n">had</span> <span class="n">the</span> <span class="n">longest</span> <span class="n">arrival</span> <span class="n">delays</span> <span class="k">on</span> <span class="n">average</span><span class="o">?</span>
<span class="n">Which</span> <span class="n">airline</span> <span class="n">carrier</span> <span class="n">had</span> <span class="n">the</span> <span class="n">shortest</span> <span class="n">arrival</span> <span class="n">delays</span> <span class="k">on</span> <span class="n">average</span><span class="o">?</span>
</pre></div>


<h2>How to&nbsp;submit</h2>
<p>To submit your mini-homework, follow the two steps below.
Your homework will be graded for credit <strong>after</strong> you&#8217;ve completed both&nbsp;steps!</p>
<ol>
<li>
<p>Save, commit, and push your completed R Markdown file so that everything is synchronized to GitHub.
    If you do this right, then you will be able to view your completed file on the GitHub&nbsp;website.</p>
</li>
<li>
<p>Knit your R Markdown document to the <span class="caps">PDF</span> format, export (download) the <span class="caps">PDF</span> file from RStudio Server, and then upload it to <em>Mini-homework 4</em> posting on&nbsp;Blackboard.</p>
</li>
</ol>
<h2>Cheatsheets</h2>
<p>You are encouraged to review and keep the following cheatsheets handy while working on this&nbsp;mini-homework:</p>
<ul>
<li>
<p><a href="https://github.com/rstudio/cheatsheets/raw/master/data-transformation.pdf">dplyr&nbsp;cheatsheet</a></p>
</li>
<li>
<p><a href="https://github.com/rstudio/cheatsheets/raw/master/data-visualization-2.1.pdf">ggplot2&nbsp;cheatsheet</a></p>
</li>
<li>
<p><a href="https://github.com/rstudio/cheatsheets/raw/master/rstudio-ide.pdf">RStudio&nbsp;cheatsheet</a></p>
</li>
<li>
<p><a href="https://github.com/rstudio/cheatsheets/raw/master/rmarkdown-2.0.pdf">RMarkdown&nbsp;cheatsheet</a></p>
</li>
<li>
<p><a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf">RMarkdown&nbsp;reference</a></p>
</li>
</ul>
<h2>Credits</h2>
<p><strong>[nycflights13]{.monospace} data set source:</strong> Hadley Wickham. 2018. <em>nycflights13</em>: Flights that Departed <span class="caps">NYC</span> in 2013. <a href="https://cran.r-project.org/web/packages/nycflights13/index.html">https://cran.r-project.org/web/packages/nycflights13/index.html</a></p>
<p>The example in Exercise @mutate-dataset and the example and question of Exercise @mutate-times sourced from <a href="https://r4ds.had.co.nz/transform.html">Chapter 5 of <em>R for Data Science</em> by Garrett Grolemund and Hadley Wickham</a>, used under <a href="https://creativecommons.org/licenses/by-nc-nd/3.0/us/"><span class="caps">CC</span> <span class="caps">BY</span>-<span class="caps">NC</span>-<span class="caps">ND</span> 3.0</a>.</p>
</div>    </article>
    </div>
<footer class="page-footer">
    <div class="footer-grid-container">
      Except where otherwise noted, site materials are created by
      <a href="https://cos.gmu.edu/cds/faculty-profile-james-glasbrenner/">
        James K. Glasbrenner
      </a>
      and
      <a href="https://cos.gmu.edu/cds/faculty-profile-dominic-white/">
        Dominic White
      </a>
      and licensed under a
      <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
        Creative Commons Attribution-ShareAlike 4.0 International License
      </a>.
    </div>
</footer><script src="/theme/js/cds101.min.js"></script>
  <script src="/theme/js/vendor/highlightjs/highlight.min.js"></script>
  <script src="/theme/js/vendor/katex/katex.min.js"></script>
  <script src="/theme/js/vendor/katex/contrib/auto-render.min.js"></script>
  <script src="/theme/js/vendor/wookmark/wookmark.min.js"></script>
  <script src="/theme/js/vendor/fontawesome/fontawesome-all.min.js"></script>
  <script src="/theme/js/vendor/vendorInit.js"></script>
  </body>
</html>